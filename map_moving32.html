<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
        <meta charset="utf-8">
        <title>Animating Symbols</title>
        <style>
            html, body {
                height: 100%;
                margin: 0;
                padding: 0;
            }
            #map {
                height: 100%;
            }
        </style>
    </head>

    <body>
        <div id="map"></div>
        <script>
            // This example adds an animated symbol to a polyline.

            function initMap() {
                var map = new google.maps.Map(document.getElementById('map'), {
                        center: {
                            lat: 47.78333,
                            lng: 67.70000
                        },
                        zoom: 4,
                        mapTypeId: google.maps.MapTypeId.TERRAIN
                    });

                // Define the symbol, using one of the predefined paths ('FORWARD_CLOSED_ARROW')
                // supplied by the Google Maps JavaScript API.
                var lineSymbol = {
                    path: google.maps.SymbolPath.FORWARD_CLOSED_ARROW,
                    scale: 5,
                    strokeColor: '#FF4444'
                };

                var planeSymbol = {
                    path: 'M362.985,430.724l-10.248,51.234l62.332,57.969l-3.293,26.145 l-71.345-23.599l-2.001,13.069l-2.057-13.529l-71.278,22.928l-5.762-23.984l64.097-59.271l-8.913-51.359l0.858-114.43 l-21.945-11.338l-189.358,88.76l-1.18-32.262l213.344-180.08l0.875-107.436l7.973-32.005l7.642-12.054l7.377-3.958l9.238,3.65 l6.367,14.925l7.369,30.363v106.375l211.592,182.082l-1.496,32.247l-188.479-90.61l-21.616,10.087l-0.094,115.684',
                    anchor: new google.maps.Point(350, 0),
                    scale: 0.052,
                    strokeOpacity: 2,
                    color: '#FF2212',
                    strokeWeight: 2

                };

                // Create the polyline and add the symbol to it via the 'icons' property.

                // Бангкок - Шереметьево 
                var line = new google.maps.Polyline({
                        path: [{
                                lat: 13.7563309,
                                lng: 100.5017651
                            }, {
                                lat: 55.9736482,
                                lng: 37.4125029
                            }
                        ],
                        icons: [{
                                icon: planeSymbol,
                                offset: '100%'
                            }
                        ],
                        strokeColor: '#8F00FF',
                        strokeOpacity: 1.0,
                        strokeWeight: 3,
                        geodesic: true,
                        map: map
                    });

                // Пекин - Шеременьево 
                var line2 = new google.maps.Polyline({
                        path: [{
                                lat: 39.904211,
                                lng: 116.407395
                            }, {
                                lat: 55.9736482,
                                lng: 37.4125029
                            }
                        ],
                        icons: [{
                                icon: planeSymbol,
                                offset: '100%'
                            }
                        ],
                        strokeColor: '#0000FF',
                        strokeOpacity: 1.0,
                        strokeWeight: 3,
                        geodesic: true,
                        map: map
                    });

                // HONG KONG - Saint Petersburg
                var line3 = new google.maps.Polyline({
                        path: [{
                                lat: 22.396428,
                                lng: 114.109497
                            }, {
                                lat: 59.93428,
                                lng: 30.335099
                            }
                        ],
                        icons: [{
                                icon: planeSymbol,
                                offset: '100%'
                            }
                        ],
                        strokeColor: '#00CCFF',
                        strokeOpacity: 1.0,
                        strokeWeight: 3,
                        geodesic: true,
                        map: map
                    });

                //Frankfurt am Main  - Sheremetyevo Apt/Moscow
                var line4 = new google.maps.Polyline({
                        path: [{
                                lat: 50.110922,
                                lng: 8.682127
                            }, {
                                lat: 55.9736482,
                                lng: 37.4125029
                            }
                        ],
                        icons: [{
                                icon: planeSymbol,
                                offset: '100%'
                            }
                        ],
                        strokeColor: '#00FF00',
                        strokeOpacity: 1.0,
                        strokeWeight: 3,
                        geodesic: true,
                        map: map
                    });

                // Amsterdam  -- Sheremetyevo Apt/Moscow
                var line5 = new google.maps.Polyline({
                        path: [{
                                lat: 52.370216,
                                lng: 4.895168
                            }, {
                                lat: 55.9736482,
                                lng: 37.4125029
                            }
                        ],
                        icons: [{
                                icon: planeSymbol,
                                offset: '100%'
                            }
                        ],
                        strokeColor: '#FFFF00',
                        strokeOpacity: 1.0,
                        strokeWeight: 3,
                        geodesic: true,
                        map: map
                    });

                // Guangzhou Baiyun International -  Apt Ashkhabad
                var line6 = new google.maps.Polyline({
                        path: [{
                                lat: 23.395908,
                                lng: 113.30797
                            }, {
                                lat: 37.960077,
                                lng: 58.326063
                            }
                        ],
                        icons: [{
                                icon: planeSymbol,
                                offset: '100%'
                            }
                        ],
                        strokeColor: '#FF7F00',
                        strokeOpacity: 1.0,
                        strokeWeight: 3,
                        geodesic: true,
                        map: map
                    });

                // "Tel Aviv-Yafo"  - "Borispol Apt/Kiev" 
                var line7 = new google.maps.Polyline({
                        path: [{
                                lat: 32.0853,
                                lng: 34.781768
                            }, {
                                lat: 50.338222,
                                lng: 30.893927
                            }
                        ],
                        icons: [{
                                icon: planeSymbol,
                                offset: '100%'
                            }
                        ],
                        strokeColor: '#FF0000',
                        strokeOpacity: 1.0,
                        strokeWeight: 3,
                        geodesic: true,
                        map: map
                    });


                animateCircle(line);
                animateCircle(line2);
                animateCircle(line3);
                animateCircle(line4);
                animateCircle(line5);
                animateCircle(line6);
                animateCircle(line7);
            }



             // Use the DOM setInterval() function to change the offset of the symbol
             // at fixed intervals.

            function animateCircle(line) {
                var count = 0;
                window.setInterval(function() {
                    count = (count + 1) % 1000;

                    var icons = line.get('icons');
                    icons[0].offset = (count / 10) + '%';
                    line.set('icons', icons);
                }, 20);
            }
        </script>
        <script src="https://maps.googleapis.com/maps/api/js?key=<<YourAPIKeyHere>>&callback=initMap" async defer>
            
        </script>
    </body>
</html>